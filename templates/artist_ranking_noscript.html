<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artist Ranking - Zootopia Fanart Gallery</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/statistics.css') }}">
    <noscript>
        <style>
            .js-only { display: none; }
        </style>
    </noscript>
</head>
<body>
    <header>
        <h1><a href="{{ url_for('gallery') }}">Zootopia Fanart Gallery</a></h1>
        <nav>
            <a href="{{ url_for('categories_list') }}">Categories</a>
            <a href="{{ url_for('gallery', sort='random') }}">Random</a>
            <a href="#" id="image-search-trigger" class="js-only">Search by Image</a>
            <a href="{{ url_for('add_artwork_page') }}">Add Artwork</a>
            <a href="{{ url_for('statistics') }}" class="active">Statistics</a>
        </nav>
        <form class="search-form" action="{{ url_for('gallery') }}" method="get">
            <input type="text" name="q" placeholder="Search..." value="{{ current_filters.q or '' }}">
            <button type="submit">Go</button>
        </form>
    </header>
    <main id="page-top">
        <h2>Artist Ranking (Weighted Score)</h2>
        <table class="artist-ranking-table">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Artist</th>
                    <th>Weighted Score</th>
                    <th>Total Works</th>
                    <th>Average Rating</th>
                </tr>
            </thead>
            <tbody>
                {% for artist in artist_ranking %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td><a href="{{ url_for('gallery', artist=artist.name) }}">{{ artist.name }}</a></td>
                    <td>{{ "%.2f" | format(artist.weighted_score) }}</td>
                    <td>{{ artist.total_works }}</td>
                    <td>{{ "%.2f" | format(artist.average_rating) }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </main>
    <footer>
        <p>A Personal Collection</p>
    </footer>
</body>
</html>